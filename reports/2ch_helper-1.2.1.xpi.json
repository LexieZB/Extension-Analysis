{"name": "2ch-helper", "crx": "Local", "extracted": "D:/ProgramD/MyCode/CS5331 Project/attemp1/extract/temp_extract_directory", "type": "Local Firefox Extension", "manifest": {"manifest_version": 2, "name": "2ch-helper", "short_name": "2ch-helper", "version": "1.2.1", "description": "\u041e\u0431\u043b\u0435\u0433\u0447\u0435\u043d\u0438\u0435 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u0438\u043c\u0438\u0434\u0436\u0431\u043e\u0440\u0434\u043e\u0439 2ch.hk.", "author": "Sergey Kuznetsov", "homepage_url": "https://github.com/Amaimersion/2ch-helper", "options_ui": {"page": "/interface/html/settings.html", "open_in_tab": true, "browser_style": true}, "browser_action": {"default_title": "2ch-helper", "default_popup": "/interface/html/popup.html", "default_icon": {"16": "/interface/icons/logo/logo-16.png", "32": "/interface/icons/logo/logo-32.png", "48": "/interface/icons/logo/logo-48.png", "128": "/interface/icons/logo/logo-128.png"}, "browser_style": true}, "icons": {"16": "/interface/icons/logo/logo-16.png", "32": "/interface/icons/logo/logo-32.png", "48": "/interface/icons/logo/logo-48.png", "128": "/interface/icons/logo/logo-128.png"}, "content_scripts": [{"matches": ["*://2ch.hk/*", "*://2ch.pm/*", "*://2ch.re/*", "*://2ch.tf/*", "*://2ch.wf/*", "*://2ch.yt/*"], "js": ["/interaction/js/content.min.js"]}, {"matches": ["*://2ch.hk/*/res/*", "*://2ch.pm/*/res/*", "*://2ch.re/*/res/*", "*://2ch.tf/*/res/*", "*://2ch.wf/*/res/*", "*://2ch.yt/*/res/*"], "css": ["/interaction/css/custom-thread.css"]}], "background": {"scripts": ["/interaction/js/background.min.js"]}, "permissions": ["storage", "downloads", "activeTab", "notifications", "*://2ch.hk/*", "*://2ch.pm/*", "*://2ch.re/*", "*://2ch.tf/*", "*://2ch.wf/*", "*://2ch.yt/*", "tabs", "<all_urls>"], "web_accessible_resources": ["interaction/assets/*"], "applications": {"gecko": {"id": "tempid@2ch.helper"}}}, "version": "1.2.1", "permissions": [{"name": "storage", "description": "Gives your extension access to the chrome.storage API.", "badge": "<i class=\"fas fa-hdd\"></i>", "risk": "medium", "warning": "na"}, {"name": "downloads", "description": "Grants your extension access to the chrome.downloads API.", "badge": "<i class=\"fas fa-download\"></i>", "risk": "medium", "warning": "Manage your downloads"}, {"name": "activeTab", "description": "Requests that the extension be granted permissions according to the activeTab specification.", "badge": "<i class=\"fas fa-square\"></i>", "risk": "low", "warning": "na"}, {"name": "notifications", "description": "Grants your extension access to the chrome.notifications API.", "badge": "<i class=\"fas fa-bell\"></i>", "risk": "low", "warning": "Display notifications"}, {"name": "*://2ch.hk/*", "description": "na", "warning": "na", "risk": "none", "badge": "<i class=\"fas fa-question\"></i>"}, {"name": "*://2ch.pm/*", "description": "na", "warning": "na", "risk": "none", "badge": "<i class=\"fas fa-question\"></i>"}, {"name": "*://2ch.re/*", "description": "na", "warning": "na", "risk": "none", "badge": "<i class=\"fas fa-question\"></i>"}, {"name": "*://2ch.tf/*", "description": "na", "warning": "na", "risk": "none", "badge": "<i class=\"fas fa-question\"></i>"}, {"name": "*://2ch.wf/*", "description": "na", "warning": "na", "risk": "none", "badge": "<i class=\"fas fa-question\"></i>"}, {"name": "*://2ch.yt/*", "description": "na", "warning": "na", "risk": "none", "badge": "<i class=\"fas fa-question\"></i>"}, {"name": "tabs", "description": "Grants the extension access to privileged fields of the Tab objects used by several APIs including chrome.tabs and chrome.windows. In many circumstances the extension will not need to declare the tabs permission to make use of these APIs.", "badge": "<i class=\"fas fa-th\"></i>", "risk": "high", "warning": "Read your browsing history"}, {"name": "<all_urls>", "description": "matches any URL that starts with a permitted scheme (http:, https:, file:, ftp:, or chrome-extension:)", "badge": "<i class=\"fas fa-globe\"></i>", "risk": "critical", "warning": "Read and change all your data on the websites you visit that starts with a permitted scheme (http:, https:, file:, ftp:, or chrome-extension:)"}], "urls": [{"file": "interaction\\js\\exif.min.js", "url": "http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/", "domain": "iptc.org"}, {"file": "interaction\\js\\exif.min.js", "url": "http://www.w3.org/2001/XMLSchema-instance", "domain": "w3.org"}, {"file": "interaction\\js\\exif.min.js", "url": "http://ns.adobe.com/tiff/1.0/", "domain": "ns.adobe.com"}, {"file": "interaction\\js\\exif.min.js", "url": "http://schemas.android.com/apk/lib/com.google.android.gms.plus", "domain": "schemas.android.com"}, {"file": "interaction\\js\\exif.min.js", "url": "http://www.gettyimages.com/xsltExtension/1.0", "domain": "gettyimages.com"}, {"file": "interaction\\js\\exif.min.js", "url": "http://ns.adobe.com/exif/1.0/", "domain": "ns.adobe.com"}, {"file": "interaction\\js\\exif.min.js", "url": "http://ns.adobe.com/xap/1.0/sType/ResourceEvent#", "domain": "ns.adobe.com"}, {"file": "interaction\\js\\exif.min.js", "url": "http://ns.adobe.com/xap/1.0/sType/ResourceRef#", "domain": "ns.adobe.com"}, {"file": "interaction\\js\\exif.min.js", "url": "http://ns.adobe.com/camera-raw-settings/1.0/", "domain": "ns.adobe.com"}, {"file": "interaction\\js\\exif.min.js", "url": "http://ns.adobe.com/xap/1.0/g/img/", "domain": "ns.adobe.com"}, {"file": "interaction\\js\\exif.min.js", "url": "http://iptc.org/std/Iptc4xmpExt/2008-02-29/", "domain": "iptc.org"}, {"file": "interface\\html\\settings.html", "url": "https://github.com/Amaimersion/2ch-helper", "domain": "github.com"}, {"file": "interface\\html\\statistics.html", "url": "https://github.com/Amaimersion/2ch-helper", "domain": "github.com"}, {"file": "manifest.json", "url": "https://github.com/Amaimersion/2ch-helper", "domain": "github.com"}], "emails": [{"mail": "tempid@2ch.helper", "file": "manifest.json"}], "bitcoin_addresses": [], "ipv4_addresses": [], "ipv6_addresses": [], "base64_strings": [{"string": "defaultSettings=", "file": "interaction\\js\\background.min.js"}, {"string": "initialSettings=", "file": "interaction\\js\\background.min.js"}, {"string": "rrentWindow=", "file": "interaction\\js\\background.min.js"}, {"string": "tificationsInfo=", "file": "interaction\\js\\background.min.js"}, {"string": "defaultSettings=", "file": "interaction\\js\\content.min.js"}, {"string": "initialSettings=", "file": "interaction\\js\\content.min.js"}, {"string": "rrentWindow=", "file": "interaction\\js\\content.min.js"}, {"string": "activePosts=", "file": "interaction\\js\\content.min.js"}, {"string": "elementsClasses=", "file": "interaction\\js\\content.min.js"}, {"string": "defaultSettings=", "file": "interaction\\js\\exif.min.js"}, {"string": "initialSettings=", "file": "interaction\\js\\exif.min.js"}, {"string": "tringValues=", "file": "interaction\\js\\exif.min.js"}, {"string": "AllIptcTags=", "file": "interaction\\js\\exif.min.js"}, {"string": "elementsClasses=", "file": "interaction\\js\\exif.min.js"}, {"string": "defaultSettings=", "file": "interface\\js\\scripts\\popup.min.js"}, {"string": "initialSettings=", "file": "interface\\js\\scripts\\popup.min.js"}, {"string": "mentsEvents=", "file": "interface\\js\\scripts\\popup.min.js"}, {"string": "rrentWindow=", "file": "interface\\js\\scripts\\popup.min.js"}, {"string": "defaultSettings=", "file": "interface\\js\\scripts\\settings-download.min.js"}, {"string": "initialSettings=", "file": "interface\\js\\scripts\\settings-download.min.js"}, {"string": "rrentWindow=", "file": "interface\\js\\scripts\\settings-download.min.js"}, {"string": "buttonForms=", "file": "interface\\js\\scripts\\settings-download.min.js"}, {"string": "serSettings=", "file": "interface\\js\\scripts\\settings-download.min.js"}, {"string": "defaultSettings=", "file": "interface\\js\\scripts\\settings-other.min.js"}, {"string": "initialSettings=", "file": "interface\\js\\scripts\\settings-other.min.js"}, {"string": "rrentWindow=", "file": "interface\\js\\scripts\\settings-other.min.js"}, {"string": "buttonForms=", "file": "interface\\js\\scripts\\settings-other.min.js"}, {"string": "serSettings=", "file": "interface\\js\\scripts\\settings-other.min.js"}, {"string": "defaultSettings=", "file": "interface\\js\\scripts\\settings-screenshot.min.js"}, {"string": "initialSettings=", "file": "interface\\js\\scripts\\settings-screenshot.min.js"}, {"string": "rrentWindow=", "file": "interface\\js\\scripts\\settings-screenshot.min.js"}, {"string": "buttonForms=", "file": "interface\\js\\scripts\\settings-screenshot.min.js"}, {"string": "serSettings=", "file": "interface\\js\\scripts\\settings-screenshot.min.js"}, {"string": "rameNavbars=", "file": "interface\\js\\scripts\\settings.min.js"}, {"string": "defaultSettings=", "file": "interface\\js\\scripts\\statistics.min.js"}, {"string": "initialSettings=", "file": "interface\\js\\scripts\\statistics.min.js"}], "comments": [{"comment": "iptc.org/std/Iptc4xmpCore/1.0/xmlns/&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:tiff=&quot;http://ns.adobe.com/tiff/1.0/&quot; xmlns:plus=&quot;http://schemas.android.com/apk/lib/com.google.android.gms.plus&quot; xmlns:ext=&quot;http://www.gettyimages.com/xsltExtension/1.0&quot; xmlns:exif=&quot;http://ns.adobe.com/exif/1.0/&quot; xmlns:stEvt=&quot;http://ns.adobe.com/xap/1.0/sType/ResourceEvent#&quot; xmlns:stRef=&quot;http://ns.adobe.com/xap/1.0/sType/ResourceRef#&quot; xmlns:crs=&quot;http://ns.adobe.com/camera-raw-settings/1.0/&quot; xmlns:xapGImg=&quot;http://ns.adobe.com/xap/1.0/g/img/&quot; xmlns:Iptc4xmpExt=&quot;http://iptc.org/std/Iptc4xmpExt/2008-02-29/&quot; &#39;+l.slice(d);var u=o.parseFromString(l,&quot;text/xml&quot;);return b(u)}n++}}(n);e.xmpdata=s||{}}t&amp;&amp;t.call(e)}if(e.src)if(/^data\\:/i.test(e.src))n(function(e,t){t=t||e.match(/^data\\:([^\\;]+)\\;base64,/im)[1]||&quot;&quot;,e=e.replace(/^data\\:([^\\;]+)\\;base64,/gim,&quot;&quot;);for(var n=atob(e),i=n.length,r=new ArrayBuffer(i),o=new Uint8Array(r),a=0;a&lt;i;a++)o[a]=n.charCodeAt(a);return r}(e.src));else if(/^blob\\:/i.test(e.src)){(a=new FileReader).onload=function(e){n(e.target.result)},function(e,t){var n=new XMLHttpRequest;n.open(&quot;GET&quot;,e,!0),n.responseType=&quot;blob&quot;,n.onload=function(e){200!=this.status&amp;&amp;0!==this.status||t(this.response)},n.send()}(e.src,function(e){a.readAsArrayBuffer(e)})}else{var r=new XMLHttpRequest;r.onload=function(){if(200!=this.status&amp;&amp;0!==this.status)throw&quot;Could not load image&quot;;n(r.response),r=null},r.open(&quot;GET&quot;,e.src,!0),r.responseType=&quot;arraybuffer&quot;,r.send(null)}else if(self.FileReader&amp;&amp;(e instanceof self.Blob||e instanceof self.File)){var a;(a=new FileReader).onload=function(e){i&amp;&amp;console.log(&quot;Got file of length &quot;+e.target.result.byteLength),n(e.target.result)},a.readAsArrayBuffer(e)}}function g(e){var t=new DataView(e);if(i&amp;&amp;console.log(&quot;Got file of length &quot;+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return i&amp;&amp;console.log(&quot;Not a valid JPEG&quot;),!1;for(var n,r=2,o=e.byteLength;r&lt;o;){if(255!=t.getUint8(r))return i&amp;&amp;console.log(&quot;Not a valid marker at offset &quot;+r+&quot;, found: &quot;+t.getUint8(r)),!1;if(n=t.getUint8(r+1),i&amp;&amp;console.log(n),225==n)return i&amp;&amp;console.log(&quot;Found 0xFFE1 marker&quot;),w(t,r+4,t.getUint16(r+2));r+=2+t.getUint16(r+2)}}var m={120:&quot;caption&quot;,110:&quot;credit&quot;,25:&quot;keywords&quot;,55:&quot;dateCreated&quot;,80:&quot;byline&quot;,85:&quot;bylineTitle&quot;,122:&quot;captionWriter&quot;,105:&quot;headline&quot;,116:&quot;copyright&quot;,15:&quot;category&quot;};function h(e,t,n){for(var i,r,o,a,s=new DataView(e),l={},c=t;c&lt;t+n;)28===s.getUint8(c)&amp;&amp;2===s.getUint8(c+1)&amp;&amp;(a=s.getUint8(c+2))in m&amp;&amp;((o=s.getInt16(c+3))+5,r=m[a],i=S(s,c+5,o),l.hasOwnProperty(r)?l[r]instanceof Array?l[r].push(i):l[r]=[l[r],i]:l[r]=i),c++;return l}function p(e,t,n,r,o){var a,s,l,c=e.getUint16(n,!o),d={};for(l=0;l&lt;c;l++)a=n+12*l+2,!(s=r[e.getUint16(a,!o)])&amp;&amp;i&amp;&amp;console.log(&quot;Unknown tag: &quot;+e.getUint16(a,!o)),d[s]=y(e,a,t,n,o);return d}function y(e,t,n,i,r){var o,a,s,l,c,d,u=e.getUint16(t+2,!r),f=e.getUint32(t+4,!r),g=e.getUint32(t+8,!r)+n;switch(u){case 1:case 7:if(1==f)return e.getUint8(t+8,!r);for(o=f&gt;4?g:t+8,a=[],l=0;l&lt;f;l++)a[l]=e.getUint8(o+l);return a;case 2:return S(e,o=f&gt;4?g:t+8,f-1);case 3:if(1==f)return e.getUint16(t+8,!r);for(o=f&gt;2?g:t+8,a=[],l=0;l&lt;f;l++)a[l]=e.getUint16(o+2*l,!r);return a;case 4:if(1==f)return e.getUint32(t+8,!r);for(a=[],l=0;l&lt;f;l++)a[l]=e.getUint32(g+4*l,!r);return a;case 5:if(1==f)return c=e.getUint32(g,!r),d=e.getUint32(g+4,!r),(s=new Number(c/d)).numerator=c,s.denominator=d,s;for(a=[],l=0;l&lt;f;l++)c=e.getUint32(g+8*l,!r),d=e.getUint32(g+4+8*l,!r),a[l]=new Number(c/d),a[l].numerator=c,a[l].denominator=d;return a;case 9:if(1==f)return e.getInt32(t+8,!r);for(a=[],l=0;l&lt;f;l++)a[l]=e.getInt32(g+4*l,!r);return a;case 10:if(1==f)return e.getInt32(g,!r)/e.getInt32(g+4,!r);for(a=[],l=0;l&lt;f;l++)a[l]=e.getInt32(g+8*l,!r)/e.getInt32(g+4+8*l,!r);return a}}function S(e,t,i){var r=&quot;&quot;;for(n=t;n&lt;t+i;n++)r+=String.fromCharCode(e.getUint8(n));return r}function w(e,t){if(&quot;Exif&quot;!=S(e,t,4))return i&amp;&amp;console.log(&quot;Not valid EXIF data! &quot;+S(e,t,4)),!1;var n,r,o,u,f,g=t+6;if(18761==e.getUint16(g))n=!1;else{if(19789!=e.getUint16(g))return i&amp;&amp;console.log(&quot;Not valid TIFF data! (no 0x4949 or 0x4D4D)&quot;),!1;n=!0}if(42!=e.getUint16(g+2,!n))return i&amp;&amp;console.log(&quot;Not valid TIFF data! (no 0x002A)&quot;),!1;var m=e.getUint32(g+4,!n);if(m&lt;8)return i&amp;&amp;console.log(&quot;Not valid TIFF data! (First offset less than 8)&quot;,e.getUint32(g+4,!n)),!1;if((r=p(e,g,g+m,s,n)).ExifIFDPointer)for(o in u=p(e,g,g+r.ExifIFDPointer,a,n)){switch(o){case&quot;LightSource&quot;:case&quot;Flash&quot;:case&quot;MeteringMode&quot;:case&quot;ExposureProgram&quot;:case&quot;SensingMethod&quot;:case&quot;SceneCaptureType&quot;:case&quot;SceneType&quot;:case&quot;CustomRendered&quot;:case&quot;WhiteBalance&quot;:case&quot;GainControl&quot;:case&quot;Contrast&quot;:case&quot;Saturation&quot;:case&quot;Sharpness&quot;:case&quot;SubjectDistanceRange&quot;:case&quot;FileSource&quot;:u[o]=d[o][u[o]];break;case&quot;ExifVersion&quot;:case&quot;FlashpixVersion&quot;:u[o]=String.fromCharCode(u[o][0],u[o][1],u[o][2],u[o][3]);break;case&quot;ComponentsConfiguration&quot;:u[o]=d.Components[u[o][0]]+d.Components[u[o][1]]+d.Components[u[o][2]]+d.Components[u[o][3]]}r[o]=u[o]}if(r.GPSInfoIFDPointer)for(o in f=p(e,g,g+r.GPSInfoIFDPointer,l,n)){switch(o){case&quot;GPSVersionID&quot;:f[o]=f[o][0]+&quot;.&quot;+f[o][1]+&quot;.&quot;+f[o][2]+&quot;.&quot;+f[o][3]}r[o]=f[o]}return r.thumbnail=function(e,t,n,i){var r=function(e,t,n){var i=e.getUint16(t,!n);return e.getUint32(t+2+12*i,!n)}(e,t+n,i);if(!r)return{};if(r&gt;e.byteLength)return{};var o=p(e,t,t+r,c,i);if(o.Compression)switch(o.Compression){case 6:if(o.JpegIFOffset&amp;&amp;o.JpegIFByteCount){var a=t+o.JpegIFOffset,s=o.JpegIFByteCount;o.blob=new Blob([new Uint8Array(e.buffer,a,s)],{type:&quot;image/jpeg&quot;})}break;case 1:console.log(&quot;Thumbnail image format is TIFF, which is not implemented.&quot;);break;default:console.log(&quot;Unknown thumbnail image format &#39;%s&#39;&quot;,o.Compression)}else 2==o.PhotometricInterpretation&amp;&amp;console.log(&quot;Thumbnail image format is RGB, which is not implemented.&quot;);return o}(e,g,m,n),r}function x(e){var t={};if(1==e.nodeType){if(e.attributes.length&gt;0){t[&quot;@attributes&quot;]={};for(var n=0;n&lt;e.attributes.length;n++){var i=e.attributes.item(n);t[&quot;@attributes&quot;][i.nodeName]=i.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var r=0;r&lt;e.childNodes.length;r++){var o=e.childNodes.item(r),a=o.nodeName;if(null==t[a])t[a]=x(o);else{if(null==t[a].push){var s=t[a];t[a]=[],t[a].push(s)}t[a].push(x(o))}}return t}function b(e){try{var t={};if(e.children.length&gt;0)for(var n=0;n&lt;e.children.length;n++){var i=e.children.item(n),r=i.attributes;for(var o in r){var a=r[o],s=a.nodeName,l=a.nodeValue;void 0!==s&amp;&amp;(t[s]=l)}var c=i.nodeName;if(void 0===t[c])t[c]=x(i);else{if(void 0===t[c].push){var d=t[c];t[c]=[],t[c].push(d)}t[c].push(x(i))}}else t=e.textContent;return t}catch(e){console.log(e.message)}}o.enableXmp=function(){o.isXmpEnabled=!0},o.disableXmp=function(){o.isXmpEnabled=!1},o.getData=function(e,t){return!((self.Image&amp;&amp;e instanceof self.Image||self.HTMLImageElement&amp;&amp;e instanceof self.HTMLImageElement)&amp;&amp;!e.complete)&amp;&amp;(u(e)?t&amp;&amp;t.call(e):f(e,t),!0)},o.getTag=function(e,t){if(u(e))return e.exifdata[t]},o.getIptcTag=function(e,t){if(u(e))return e.iptcdata[t]},o.getAllTags=function(e){if(!u(e))return{};var t,n=e.exifdata,i={};for(t in n)n.hasOwnProperty(t)&amp;&amp;(i[t]=n[t]);return i},o.getAllIptcTags=function(e){if(!u(e))return{};var t,n=e.iptcdata,i={};for(t in n)n.hasOwnProperty(t)&amp;&amp;(i[t]=n[t]);return i},o.pretty=function(e){if(!u(e))return&quot;&quot;;var t,n=e.exifdata,i=&quot;&quot;;for(t in n)n.hasOwnProperty(t)&amp;&amp;(&quot;object&quot;==typeof n[t]?n[t]instanceof Number?i+=t+&quot; : &quot;+n[t]+&quot; [&quot;+n[t].numerator+&quot;/&quot;+n[t].denominator+&quot;]\\r\\n&quot;:i+=t+&quot; : [&quot;+n[t].length+&quot; values]\\r\\n&quot;:i+=t+&quot; : &quot;+n[t]+&quot;\\r\\n&quot;);return i},o.readFromBinaryFile=function(e){return g(e)},void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}).call(this)},,,,,,function(e,t,n){&quot;use strict&quot;;n.r(t);var i=n(6),r=n(3),o=n(0);class a{static main(){this.bindObserver()}static bindObserver(){new MutationObserver(this.observerEvent).observe(o.a.getThread(),{subtree:!0,childList:!0})}static isPostNode(e){const t=new RegExp(/((post|preview)-*)/,&quot;&quot;);return e.tagName&amp;&amp;[&quot;div&quot;].includes(e.tagName.toLowerCase())&amp;&amp;e.id&amp;&amp;t.test(e.id.toLowerCase())}}a.observerEvent=(e=&gt;{for(let t of e)for(let e of t.addedNodes)a.isPostNode(e)&amp;&amp;l.bindFigures(e)});class s{constructor(){this._cache=void 0,this._cache={}}isExists(e){return this._cache.hasOwnProperty(e)}get(e){if(!this.isExists(e))throw new Error(&quot;Key is not exists.&quot;);return this._cache[e]}add(e,t){if(this.isExists(e))throw new Error(&quot;Key already exists.&quot;);this._cache[e]=t}}class l{static main(){this.bindFigures(),a.main(),this._cache=new s}static bindFigures(e=o.a.getThread()){e.querySelectorAll(&quot;figure.post__image&quot;).forEach(e=&gt;{this.bindFigure(e)})}static bindFigure(e){const t=o.a.getElement({dcmnt:e,selector:&#39;figcaption &gt; a[target=&quot;_blank&quot;]&#39;,errorMessage:&quot;Could not find an original link.&quot;}).href,n=o.a.getElement({dcmnt:e,selector:&quot;figcaption &gt; span.post__filezise&quot;,errorMessage:&quot;Could not find a span.&quot;});if(!this.isAllowedType(t))return;const i=e.querySelector(`.${this.elementsClasses.infoButton}`);i&amp;&amp;(i.innerHTML=&quot;&quot;);const r=document.createElement(&quot;div&quot;),a=document.createElement(&quot;a&quot;),s=document.createElement(&quot;img&quot;);r.classList.add(this.elementsClasses.commonButton),r.classList.add(this.elementsClasses.infoButton),r.id=`${this.elementsClasses.infoButton}-${o.a.generateHash()}`,a.id=`${this.elementsClasses.infoButton}-${o.a.generateHash()}`,s.id=`${this.elementsClasses.infoButton}-${o.a.generateHash()}`,s.src=chrome.extension.getURL(&quot;/interaction/assets/images/font-awesome/info-circle-solid.svg&quot;),s.alt=&quot;Info&quot;,s.style.height=&quot;1.55vh&quot;,s.addEventListener(&quot;click&quot;,()=&gt;{this.showExif(t)}),r.appendChild(a),a.appendChild(s),n.parentElement.insertBefore(r,n)}static isAllowedType(e){return new RegExp(&quot;\\\\.(jpg|jpeg|jpe|jif|jfif|jfi|tiff|tif|wav|wave)$&quot;,&quot;mi&quot;).test(e)}static async showExif(e){this._form?(this._form.main.innerHTML=&quot;&quot;,this._form.main.style.display=&quot;none&quot;,this._form.loader.style.display=&quot;block&quot;):this._form=this.createForm(),this._form.panel.style.display=&quot;block&quot;;const t=e=&gt;{let t=void 0;if(void 0===e)(t=document.createElement(&quot;p&quot;)).innerText=&quot;\u041e\u0448\u0438\u0431\u043a\u0430.&quot;;else if(Object.keys(e).length){t=document.createElement(&quot;table&quot;);for(let n in e){const i=document.createElement(&quot;tr&quot;),r=document.createElement(&quot;td&quot;),o=document.createElement(&quot;span&quot;);o.innerText=n,r.appendChild(o);const a=document.createElement(&quot;span&quot;);a.innerText=e[n],r.appendChild(a),i.appendChild(r),t.appendChild(i)}}else(t=document.createElement(&quot;p&quot;)).innerText=&quot;\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445.&quot;;this._form.main.appendChild(t),this._form.loader.style.display=&quot;none&quot;,this._form.main.style.display=&quot;block&quot;};if(this._cache.isExists(e)){t(this._cache.get(e))}else{let n=void 0;try{n=await this.getExifData(e)}catch(e){console.warn(e)}t(n),void 0!==n&amp;&amp;this._cache.add(e,n)}}static async getExifData(e){return new Promise(t=&gt;{const n=document.createElement(&quot;img&quot;);n.onload=(()=&gt;{i.getData(n,()=&gt;{const e=i.getAllTags(n),r={};for(let t in e){let n=e[t];const i=typeof n;&quot;string&quot;!==i&amp;&amp;&quot;number&quot;!==i&amp;&amp;&quot;object&quot;!==i||(n=(n=&quot;object&quot;===i&amp;&amp;n.numerator&amp;&amp;n.denominator?`${n.numerator}/${n.denominator} (${n})`:&quot;object&quot;===i?JSON.stringify(n):String(n)).replace(/\\r?\\n|\\r/g,&quot; &quot;).trim())&amp;&amp;(r[t]=n)}return t(r)})}),n.src=e})}static createForm(){const e={panel:void 0,main:void 0,loader:void 0},t=document.createElement(&quot;div&quot;);t.classList.add(this.elementsClasses.exifPanel),t.id=`${this.elementsClasses.exifPanel}-${o.a.generateHash()}`,t.style.display=&quot;none&quot;;const n=document.createElement(&quot;div&quot;);n.classList.add(this.elementsClasses.exifHeader),n.id=`${this.elementsClasses.exifHeader}-${o.a.generateHash()}`;const i=document.createElement(&quot;h5&quot;);i.innerText=&quot;EXIF&quot;;const r=document.createElement(&quot;p&quot;);r.innerText=&quot;x&quot;,r.addEventListener(&quot;click&quot;,()=&gt;{t.style.display=&quot;none&quot;});const a=document.createElement(&quot;div&quot;);a.classList.add(this.elementsClasses.exifMain),a.id=`${this.elementsClasses.exifMain}-${o.a.generateHash()}`,a.style.display=&quot;none&quot;;const s=document.createElement(&quot;div&quot;);return s.classList.add(this.elementsClasses.exifLoader),s.id=`${this.elementsClasses.exifLoader}-${o.a.generateHash()}`,s.style.display=&quot;block&quot;,n.appendChild(i),n.appendChild(r),t.appendChild(n),t.appendChild(a),t.appendChild(s),document.body.appendChild(t),e.panel=t,e.main=a,e.loader=s,e}}l.elementsClasses={commonButton:&quot;custom-2ch-helper-image-button&quot;,infoButton:&quot;custom-2ch-helper-info-button&quot;,exifPanel:&quot;custom-2ch-helper-exif-panel&quot;,exifHeader:&quot;custom-2ch-helper-exif-header&quot;,exifMain:&quot;custom-2ch-helper-exif-main&quot;,exifLoader:&quot;custom-2ch-helper-exif-loader&quot;},l._form=void 0,l._cache=void 0,r.a.run(()=&gt;{l.main()})}]);", "file": "interaction\\js\\exif.min.js"}, {"comment": "2ch.hk/*/res/*&quot;,&quot;*://2ch.pm/*/res/*&quot;,&quot;*://2ch.re/*/res/*&quot;,&quot;*://2ch.tf/*/res/*&quot;,&quot;*://2ch.wf/*/res/*&quot;,&quot;*://2ch.yt/*/res/*&quot;],i._elementsEvents=[{selector:&quot;#screenshot-of-posts&quot;,type:&quot;click&quot;,event:()=&gt;{a.defaultElementEvent({type:&quot;command&quot;,command:&quot;screenshotPosts&quot;},{url:i.threadUrls},{errorText:&quot;\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0442\u0440\u0435\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d&quot;})}},{selector:&quot;#screenshot-of-thread&quot;,type:&quot;click&quot;,event:()=&gt;{a.defaultElementEvent({type:&quot;command&quot;,command:&quot;screenshotThread&quot;},{url:i.threadUrls},{errorText:&quot;\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0442\u0440\u0435\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d&quot;})}},{selector:&quot;#download-images&quot;,type:&quot;click&quot;,event:()=&gt;{a.defaultElementEvent({type:&quot;command&quot;,command:&quot;downloadImages&quot;},{url:i.threadUrls},{errorText:&quot;\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0442\u0440\u0435\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d&quot;})}},{selector:&quot;#download-video&quot;,type:&quot;click&quot;,event:()=&gt;{a.defaultElementEvent({type:&quot;command&quot;,command:&quot;downloadVideo&quot;},{url:i.threadUrls},{errorText:&quot;\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0442\u0440\u0435\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d&quot;})}},{selector:&quot;#download-media&quot;,type:&quot;click&quot;,event:()=&gt;{a.defaultElementEvent({type:&quot;command&quot;,command:&quot;downloadMedia&quot;},{url:i.threadUrls},{errorText:&quot;\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0442\u0440\u0435\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d&quot;})}},{selector:&quot;#download-thread&quot;,type:&quot;click&quot;,event:()=&gt;{a.defaultElementEvent({type:&quot;command&quot;,command:&quot;downloadThread&quot;},{url:i.threadUrls},{errorText:&quot;\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0442\u0440\u0435\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d&quot;})}}];class a extends i{static main(){this.bindEvents()}static async defaultElementEvent(e,t={},r={}){let n=void 0;try{n=await s.b.Background.sendMessageToActiveContent(e,t)}catch(e){throw this.displayError(r),e}o.a.isErrorResponse(n)&amp;&amp;this.displayError({errorText:n.errorText})}static bindEvents(){for(let e of this._elementsEvents){let t=void 0;try{t=o.a.getElement({selector:e.selector})}catch(e){console.error(e);continue}t.addEventListener(e.type,e.event)}}static displayError(e){const t=e.errorText||&quot;\u041e\u0448\u0438\u0431\u043a\u0430&quot;,r=e.displayTime||2e3,n=e.notificationElementSelector||&quot;#version&quot;;if(null!==this._timeoutId)throw console.warn(&quot;Created timeout is still running.&quot;),new Error(t);let s=void 0;try{s=o.a.getElement({selector:n,errorMessage:&quot;Could not find an element to display an error.&quot;})}catch(e){throw console.error(t),e}const i=s.innerText;s.innerText=t,this._timeoutId=window.setTimeout(()=&gt;{s.innerText=i,this._timeoutId=null},r)}}a._timeoutId=null,n.a.run(()=&gt;a.main());r(23)},2:function(e,t,r){&quot;use strict&quot;;var n,s;r.d(t,&quot;b&quot;,function(){return n}),r.d(t,&quot;a&quot;,function(){return s}),function(e){class t{static sendMessageToTab(e,t){return new Promise(r=&gt;{t?chrome.tabs.sendMessage(t,e,e=&gt;r(e)):chrome.runtime.sendMessage(e,e=&gt;r(e))})}static createQuery(e={}){return new Promise(t=&gt;{chrome.tabs.query(e,e=&gt;t(e))})}}e.Content=class extends t{static sendMessageToBackground(e){return this.sendMessageToTab(e)}};e.Background=class extends t{static async sendMessageToActiveContent(e,t={}){t.active=!0,t.currentWindow=!0;const r=await this.createQuery(t);if(!r.length)throw new Error(&quot;Tabs list is empty.&quot;);const n=r[0].id;return await this.sendMessageToTab(e,n)}static async sendMessageToAllContent(e,t={}){const r=await this.createQuery(t),n=[];for(let t of r)n.push(this.sendMessageToTab(e,t.id));return n}}}(n||(n={})),function(e){e.attach=function(e){chrome.runtime.onMessage.addListener((t,r,n)=&gt;(e(t,r,n),!0))};e.OnMessage=class{static async runAsyncMethod(e,t,r={},n={}){try{await e()}catch(e){throw t(Object.assign({},n,{status:!1,errorText:e.message})),e}t(Object.assign({},r,{status:!0}))}static formatObject(e){return JSON.stringify(e,null,4)}static getUnknownMessageErrorText(e,t,r){return r?`${r}\\n`:&quot;Unknown message.\\n&quot;+`Message - ${this.formatObject(e)}\\n`+`Sender - ${this.formatObject(t)}`}}}(s||(s={}))},23:function(e,t){},3:function(e,t,r){&quot;use strict&quot;;r.d(t,&quot;a&quot;,function(){return n});class n{static run(e,t=!1,r){if(r&amp;&amp;!r(document.location))return;const n=()=&gt;{try{e()}catch(e){if(!t)throw e;console.error(e)}};&quot;loading&quot;===document.readyState?document.addEventListener(&quot;DOMContentLoaded&quot;,n):n()}}}});", "file": "interface\\js\\scripts\\popup.min.js"}, {"comment": "2ch.hk/*/res/*&quot;}),a.b.Content.sendMessageToBackground({type:&quot;command&quot;,command:&quot;updateSettings&quot;})}}}(s||(s={}))},,,function(t,e,n){&quot;use strict&quot;;n.r(e);var s=n(3),i=n(4);class a{}a.settingKey=&quot;settingsDownload&quot;,a.formElement={id:&quot;form&quot;},a.inputForms=[{formId:&quot;images-fileName&quot;,settingField:&quot;images&quot;,settingKey:&quot;fileName&quot;},{formId:&quot;images-autoFileName&quot;,settingField:&quot;images&quot;,settingKey:&quot;autoFileName&quot;},{formId:&quot;images-delay&quot;,settingField:&quot;images&quot;,settingKey:&quot;delay&quot;},{formId:&quot;images-types&quot;,settingField:&quot;images&quot;,settingKey:&quot;types&quot;},{formId:&quot;video-fileName&quot;,settingField:&quot;video&quot;,settingKey:&quot;fileName&quot;},{formId:&quot;video-autoFileName&quot;,settingField:&quot;video&quot;,settingKey:&quot;autoFileName&quot;},{formId:&quot;video-delay&quot;,settingField:&quot;video&quot;,settingKey:&quot;delay&quot;},{formId:&quot;video-types&quot;,settingField:&quot;video&quot;,settingKey:&quot;types&quot;},{formId:&quot;thread-fileName&quot;,settingField:&quot;thread&quot;,settingKey:&quot;fileName&quot;},{formId:&quot;thread-autoFileName&quot;,settingField:&quot;thread&quot;,settingKey:&quot;autoFileName&quot;}],a.buttonForms=[{formId:&quot;reset&quot;,eventType:&quot;click&quot;,eventMethod:()=&gt;{i.a.Buttons.resetButtonEvent()}},{formId:&quot;clear&quot;,eventType:&quot;click&quot;,eventMethod:()=&gt;{i.a.Buttons.clearButtonEvent(a.inputForms)}}];class r extends a{static async main(){this._userSettings=await i.a.Settings.getUserSettings(this.settingKey),this.bindForms()}static bindForms(){i.a.Settings.bindForms(this.inputForms,this._userSettings),i.a.Settings.bindButtons(this.buttonForms),i.a.Settings.bindForm(this.formElement,()=&gt;{this._userSettings=i.a.Buttons.saveButtonEvent(this.inputForms,this._userSettings),i.a.Settings.saveUserSettings(this.settingKey,this._userSettings)})}}r._userSettings=void 0,s.a.run(()=&gt;r.main())}]);", "file": "interface\\js\\scripts\\settings-download.min.js"}, {"comment": "2ch.hk/*/res/*&quot;}),r.b.Content.sendMessageToBackground({type:&quot;command&quot;,command:&quot;updateSettings&quot;})}}}(s||(s={}))},,,,,function(t,e,n){&quot;use strict&quot;;n.r(e);var s=n(3),i=n(4);class r{}r.settingKey=&quot;settingsOther&quot;,r.formElement={id:&quot;form&quot;},r.inputForms=[{formId:&quot;other-notificationWhenReply&quot;,settingField:&quot;other&quot;,settingKey:&quot;notificationWhenReply&quot;},{formId:&quot;other-downloadButtonNearFile&quot;,settingField:&quot;other&quot;,settingKey:&quot;downloadButtonNearFile&quot;},{formId:&quot;other-exifButtonNearFile&quot;,settingField:&quot;other&quot;,settingKey:&quot;exifButtonNearFile&quot;},{formId:&quot;other-expandImageWhenTarget&quot;,settingField:&quot;other&quot;,settingKey:&quot;expandImageWhenTarget&quot;},{formId:&quot;other-addMissingTitles&quot;,settingField:&quot;other&quot;,settingKey:&quot;addMissingTitles&quot;},{formId:&quot;other-addMissingForms&quot;,settingField:&quot;other&quot;,settingKey:&quot;addMissingForms&quot;}],r.buttonForms=[{formId:&quot;reset&quot;,eventType:&quot;click&quot;,eventMethod:()=&gt;{i.a.Buttons.resetButtonEvent()}},{formId:&quot;clear&quot;,eventType:&quot;click&quot;,eventMethod:()=&gt;{i.a.Buttons.clearButtonEvent(r.inputForms)}}];class a extends r{static async main(){this._userSettings=await i.a.Settings.getUserSettings(this.settingKey),this.bindForms()}static bindForms(){i.a.Settings.bindForms(this.inputForms,this._userSettings),i.a.Settings.bindButtons(this.buttonForms),i.a.Settings.bindForm(this.formElement,()=&gt;{this._userSettings=i.a.Buttons.saveButtonEvent(this.inputForms,this._userSettings),i.a.Settings.saveUserSettings(this.settingKey,this._userSettings)})}}a._userSettings=void 0,s.a.run(()=&gt;a.main())}]);", "file": "interface\\js\\scripts\\settings-other.min.js"}, {"comment": "2ch.hk/*/res/*&quot;}),a.b.Content.sendMessageToBackground({type:&quot;command&quot;,command:&quot;updateSettings&quot;})}}}(n||(n={}))},,,,function(t,e,s){&quot;use strict&quot;;s.r(e);var n=s(3),i=s(4);class a{}a.settingKey=&quot;settingsScreenshot&quot;,a.formElement={id:&quot;form&quot;},a.inputForms=[{formId:&quot;posts-name&quot;,settingField:&quot;posts&quot;,settingKey:&quot;name&quot;},{formId:&quot;posts-format&quot;,settingField:&quot;posts&quot;,settingKey:&quot;format&quot;},{formId:&quot;posts-quality&quot;,settingField:&quot;posts&quot;,settingKey:&quot;quality&quot;},{formId:&quot;posts-fillColor&quot;,settingField:&quot;posts&quot;,settingKey:&quot;fillColor&quot;},{formId:&quot;posts-turnOffPosts&quot;,settingField:&quot;posts&quot;,settingKey:&quot;turnOffPosts&quot;},{formId:&quot;posts-paddingTop&quot;,settingField:&quot;posts&quot;,settingKey:&quot;paddingTop&quot;},{formId:&quot;posts-paddingBottom&quot;,settingField:&quot;posts&quot;,settingKey:&quot;paddingBottom&quot;},{formId:&quot;posts-paddingLeft&quot;,settingField:&quot;posts&quot;,settingKey:&quot;paddingLeft&quot;},{formId:&quot;posts-paddingRight&quot;,settingField:&quot;posts&quot;,settingKey:&quot;paddingRight&quot;},{formId:&quot;posts-paddingBetween&quot;,settingField:&quot;posts&quot;,settingKey:&quot;paddingBetween&quot;},{formId:&quot;thread-name&quot;,settingField:&quot;thread&quot;,settingKey:&quot;name&quot;},{formId:&quot;thread-format&quot;,settingField:&quot;thread&quot;,settingKey:&quot;format&quot;},{formId:&quot;thread-quality&quot;,settingField:&quot;thread&quot;,settingKey:&quot;quality&quot;},{formId:&quot;thread-fillColor&quot;,settingField:&quot;thread&quot;,settingKey:&quot;fillColor&quot;},{formId:&quot;thread-paddingTop&quot;,settingField:&quot;thread&quot;,settingKey:&quot;paddingTop&quot;},{formId:&quot;thread-paddingBottom&quot;,settingField:&quot;thread&quot;,settingKey:&quot;paddingBottom&quot;},{formId:&quot;thread-paddingLeft&quot;,settingField:&quot;thread&quot;,settingKey:&quot;paddingLeft&quot;},{formId:&quot;thread-paddingRight&quot;,settingField:&quot;thread&quot;,settingKey:&quot;paddingRight&quot;}],a.buttonForms=[{formId:&quot;reset&quot;,eventType:&quot;click&quot;,eventMethod:()=&gt;{i.a.Buttons.resetButtonEvent()}},{formId:&quot;clear&quot;,eventType:&quot;click&quot;,eventMethod:()=&gt;{i.a.Buttons.clearButtonEvent(a.inputForms)}}];class o extends a{static async main(){this._userSettings=await i.a.Settings.getUserSettings(this.settingKey),this.bindForms()}static bindForms(){i.a.Settings.bindForms(this.inputForms,this._userSettings),i.a.Settings.bindButtons(this.buttonForms),i.a.Settings.bindForm(this.formElement,()=&gt;{this._userSettings=i.a.Buttons.saveButtonEvent(this.inputForms,this._userSettings),i.a.Settings.saveUserSettings(this.settingKey,this._userSettings)})}}o._userSettings=void 0,n.a.run(()=&gt;o.main())}]);", "file": "interface\\js\\scripts\\settings-screenshot.min.js"}], "domains": [], "files": {"html": [{"popup.html": "interface\\html\\popup.html"}, {"settings-download.html": "interface\\html\\settings-download.html"}, {"settings-other.html": "interface\\html\\settings-other.html"}, {"settings-screenshot.html": "interface\\html\\settings-screenshot.html"}, {"settings.html": "interface\\html\\settings.html"}, {"statistics.html": "interface\\html\\statistics.html"}], "json": [{"manifest.json": "manifest.json"}], "js": [{"background.min.js": "interaction\\js\\background.min.js"}, {"content.min.js": "interaction\\js\\content.min.js"}, {"exif.min.js": "interaction\\js\\exif.min.js"}, {"popup.min.js": "interface\\js\\scripts\\popup.min.js"}, {"settings-download.min.js": "interface\\js\\scripts\\settings-download.min.js"}, {"settings-iframe.min.js": "interface\\js\\scripts\\settings-iframe.min.js"}, {"settings-other.min.js": "interface\\js\\scripts\\settings-other.min.js"}, {"settings-screenshot.min.js": "interface\\js\\scripts\\settings-screenshot.min.js"}, {"settings.min.js": "interface\\js\\scripts\\settings.min.js"}, {"statistics.min.js": "interface\\js\\scripts\\statistics.min.js"}], "css": [{"custom-thread.css": "interaction\\css\\custom-thread.css"}, {"bootstrap-4.0.0.min.css": "interface\\css\\libs\\bootstrap-4.0.0.min.css"}, {"popup.css": "interface\\css\\styles\\popup.css"}, {"settings-iframe.css": "interface\\css\\styles\\settings-iframe.css"}, {"settings.css": "interface\\css\\styles\\settings.css"}, {"statistics.css": "interface\\css\\styles\\statistics.css"}], "static": [{"arrow-alt-circle-down-solid.svg": "interaction\\assets\\images\\font-awesome\\arrow-alt-circle-down-solid.svg"}, {"info-circle-solid.svg": "interaction\\assets\\images\\font-awesome\\info-circle-solid.svg"}, {"logo-128.png": "interface\\icons\\logo\\logo-128.png"}, {"logo-16.png": "interface\\icons\\logo\\logo-16.png"}, {"logo-32.png": "interface\\icons\\logo\\logo-32.png"}, {"logo-48.png": "interface\\icons\\logo\\logo-48.png"}, {"github.png": "interface\\icons\\stuff\\github.png"}], "other": [{"LICENSE": "interaction\\assets\\images\\font-awesome\\LICENSE"}, {"background.min.js.map": "interaction\\js\\background.min.js.map"}, {"content.min.js.map": "interaction\\js\\content.min.js.map"}, {"exif.min.js.map": "interaction\\js\\exif.min.js.map"}, {"popup.min.js.map": "interface\\js\\scripts\\popup.min.js.map"}, {"settings-download.min.js.map": "interface\\js\\scripts\\settings-download.min.js.map"}, {"settings-iframe.min.js.map": "interface\\js\\scripts\\settings-iframe.min.js.map"}, {"settings-other.min.js.map": "interface\\js\\scripts\\settings-other.min.js.map"}, {"settings-screenshot.min.js.map": "interface\\js\\scripts\\settings-screenshot.min.js.map"}, {"settings.min.js.map": "interface\\js\\scripts\\settings.min.js.map"}, {"statistics.min.js.map": "interface\\js\\scripts\\statistics.min.js.map"}, {"manifest.mf": "META-INF\\manifest.mf"}, {"mozilla.rsa": "META-INF\\mozilla.rsa"}, {"mozilla.sf": "META-INF\\mozilla.sf"}]}, "author": "Sergey Kuznetsov", "description": "\u041e\u0431\u043b\u0435\u0433\u0447\u0435\u043d\u0438\u0435 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u0438\u043c\u0438\u0434\u0436\u0431\u043e\u0440\u0434\u043e\u0439 2ch.hk."}